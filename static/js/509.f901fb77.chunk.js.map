{"version":3,"file":"static/js/509.f901fb77.chunk.js","mappings":"0NACA,EAAmC,uCAAnC,EAA2F,qCAA3F,EAA2I,+BAA3I,EAAwL,kCAAxL,EAAqO,+BAArO,EAAmR,mCAAnR,EAAsU,oCAAtU,EAA6X,uCAA7X,EAAkb,kCAAlb,EAA2gB,6B,SC6F3gB,EA1FqB,WAAO,IAAD,EACzB,GAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAG,6CAAyCF,EAAzC,oBAFO,mCAEP,mBACHG,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,SAAO,UAAAH,EAASI,aAAT,eAAgBC,OAAQ,KAS3D,OAPAC,EAAAA,EAAAA,YAAU,WACRC,MAAMR,GACHS,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAN,IACNF,MAAK,SAAAG,GAAI,OAAIf,EAAWe,EAAf,IACTC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GACf,GAAE,CAAChB,EAASE,IAERJ,EAAQqB,OAAUrB,EAAQsB,MAAStB,EAAQuB,UAAavB,EAAQwB,QAYnE,iCACE,SAAC,KAAD,CAAMC,GAAIlB,EAAoBmB,QAASC,UAAWC,EAAlD,sBAGA,eAAID,UAAWC,EAAf,UACE,gBAAqBD,UAAWC,EAAhC,WACE,gBACEC,IACE,yCAAkC7B,EAAQ8B,gBAA1C,EAGFC,IAAI,eACJJ,UAAWC,EACXI,MAAM,MACNC,OAAO,SAET,iBAAKN,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,UACE,qCAEF,cAAGD,UAAWC,EAAd,SAAiC5B,EAAQqB,OAASrB,EAAQsB,OACzDtB,EAAQkC,cACP,6BAAKlC,EAAQkC,aAAaC,UAAU,EAAG,GAAvC,QAEA,+CAEF,cAAGR,UAAWC,EAAd,UACE,0CAEF,cAAGD,UAAWC,EAAd,SACG5B,EAAQoC,eAAiBC,MAAMrC,EAAQoC,cACpCE,KAAKC,MAAMvC,EAAQoC,cACnB,OAEN,cAAGT,UAAWC,EAAd,UACE,0CACG,KACL,cAAGD,UAAWC,EAAd,SAAiC5B,EAAQuB,YACzC,eAAGI,UAAWC,EAAd,WACE,mCAAe,QAEjB,cAAGD,UAAWC,EAAd,SACG5B,EAAQwB,QACPxB,EAAQwB,OACLgB,KAAI,SAAAC,GAAK,OAAIA,EAAMnB,KAAKoB,aAAf,IACTC,KAAK,WAEP,MA1CA3C,EAAQ4C,OA6CnB,SAAC,KAAD,CAAMnB,GAAE,OAAUE,UAAWC,EAA7B,mBAGA,SAAC,KAAD,CAAMH,GAAE,UAAaE,UAAWC,EAAhC,sBAGA,SAAC,EAAAiB,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD,UAnEF,iCACE,SAAC,KAAD,CAAMrB,GAAIlB,EAAoBmB,QAASC,UAAWC,EAAlD,sBAGA,gBAAKD,UAAWC,EAAhB,kCAmEP,C","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsItem\":\"MovieDetails_movieDetailsItem__xig53\",\"detailsHeading\":\"MovieDetails_detailsHeading__h2zS4\",\"castLink\":\"MovieDetails_castLink__5wU63\",\"reviewsLink\":\"MovieDetails_reviewsLink__w31pM\",\"backLink\":\"MovieDetails_backLink__haiys\",\"detailsValue\":\"MovieDetails_detailsValue__CJ+jM\",\"infoContainer\":\"MovieDetails_infoContainer__Z7fUG\",\"movieDetailsList\":\"MovieDetails_movieDetailsList__OZNyP\",\"moviePoster\":\"MovieDetails_moviePoster__M1O9z\",\"movieTitle\":\"MovieDetails_movieTitle__qwoTW\",\"noInfo\":\"MovieDetails_noInfo__+V41m\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [details, setDetails] = useState([]);\n  const API_KEY = '85aded699850148534e98bbdd6991e7d';\n  const { movieId } = useParams();\n  const URL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from || '/');\n\n  useEffect(() => {\n    fetch(URL)\n      .then(r => r.json())\n      .then(data => setDetails(data))\n      .catch(error => console.log(error));\n  }, [movieId, URL]);\n\n  if (!details.title && !details.name && !details.overview && !details.genres) {\n    return (\n      <>\n        <Link to={backLinkLocationRef.current} className={css.backLink}>\n          Go back\n        </Link>\n        <div className={css.noInfo}>Data not available</div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Link to={backLinkLocationRef.current} className={css.backLink}>\n        Go back\n      </Link>\n      <ul className={css.movieDetailsList}>\n        <li key={details.id} className={css.movieDetailsItem}>\n          <img\n            src={\n              `https://image.tmdb.org/t/p/w500${details.backdrop_path}` ||\n              `https://image.tmdb.org/t/p/w500${details.poster_path}`\n            }\n            alt=\"movie poster\"\n            className={css.moviePoster}\n            width=\"450\"\n            height=\"300\"\n          />\n          <div className={css.infoContainer}>\n            <p className={css.detailsHeading}>\n              <b>Title:</b>\n            </p>\n            <p className={css.detailsValue}>{details.title || details.name}</p>\n            {details.release_date ? (\n              <p>({details.release_date.substring(0, 4)})</p>\n            ) : (\n              <p>Date not specified</p>\n            )}\n            <p className={css.detailsHeading}>\n              <b>User score:</b>\n            </p>\n            <p className={css.detailsValue}>\n              {details.vote_average && !isNaN(details.vote_average)\n                ? Math.round(details.vote_average)\n                : '-'}\n            </p>\n            <p className={css.detailsHeading}>\n              <b>Description:</b>\n            </p>{' '}\n            <p className={css.detailsValue}>{details.overview}</p>\n            <p className={css.detailsHeading}>\n              <b>Genres:</b>{' '}\n            </p>\n            <p className={css.detailsValue}>\n              {details.genres &&\n                details.genres\n                  .map(genre => genre.name.toLowerCase())\n                  .join(', ')}\n            </p>\n          </div>{' '}\n        </li>\n      </ul>\n      <Link to={`cast`} className={css.castLink}>\n        Cast\n      </Link>\n      <Link to={`reviews`} className={css.reviewsLink}>\n        Reviews\n      </Link>\n      <Suspense fallback={<div>LOADING SUBPAGE...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["useState","details","setDetails","movieId","useParams","URL","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fetch","then","r","json","data","catch","error","console","log","title","name","overview","genres","to","current","className","css","src","backdrop_path","alt","width","height","release_date","substring","vote_average","isNaN","Math","round","map","genre","toLowerCase","join","id","Suspense","fallback"],"sourceRoot":""}
{"version":3,"file":"static/js/703.0db83f90.chunk.js","mappings":"mOACA,EAA8B,4BAA9B,EAAsE,0BAAtE,EAA6G,2BAA7G,EAAsJ,4BAAtJ,EAA8L,0BAA9L,EAAoO,0BAApO,EAA0Q,0B,SCiF1Q,EA9Ee,WAAO,IAAD,EACnB,GAAwBA,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAE3C,GAAsCT,EAAAA,EAAAA,UAAS,IAA/C,eAAOU,EAAP,KAAoBC,EAApB,KAGMC,EAAG,4DADO,mCACP,gCAAuFX,EAAvF,sCAAyHO,GAE5HK,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACa,KAAjBP,EAAMQ,QACRC,MAAML,GACHM,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAN,IACNF,MAAK,SAAAG,GAAI,OAAIjB,GAAU,SAAAkB,GAAU,wBAAQA,IAAR,OAAuBD,EAAKE,SAA5B,GAAxB,IACTC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GAEjB,GAAE,CAACb,EAAKJ,EAAOJ,IAEhB,IAAMwB,EAAY,WAChB1B,EAAQ,GACRE,EAAU,IACVG,EAAgB,CAAEC,MAAOE,GAC1B,EAYD,OACE,iCACE,iBAAKmB,UAAWC,EAAhB,WACE,kBACEC,YAAY,mBACZC,MAAOtB,EACPuB,SAhBkB,SAAAC,GACxBvB,EAAeuB,EAAEC,OAAOH,MACzB,EAeOI,UAbc,SAAAF,GACF,KAAdA,EAAEG,SACJT,GAEH,EAUOC,UAAWC,KAEb,mBAAQQ,QAASV,EAAWC,UAAWC,EAAvC,wBAIF,eAAID,UAAWC,EAAf,SACG3B,EAAOoC,KAAI,SAAAC,GAAK,OACf,UAAC,KAAD,CACEC,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAM/B,GAEfgB,UAAWC,EAJb,WAME,gBACEe,IAAG,yCAAoCL,EAAMM,aAC7CC,IAAI,eACJlB,UAAWC,EACXkB,MAAM,MACNC,OAAO,SAET,eAAGpB,UAAWC,EAAd,UACGU,EAAMU,MADT,IACiBV,EAAMW,UAdzB,UAGUX,EAAME,IAJD,QAsBxB,C","sources":["webpack://goit-react-hw-05-movies/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchInput\":\"Movies_searchInput__+E-Mw\",\"searchBtn\":\"Movies_searchBtn__pm9qY\",\"movieTitle\":\"Movies_movieTitle__5wMIS\",\"moviePoster\":\"Movies_moviePoster__8wnP9\",\"movieList\":\"Movies_movieList__3O+kj\",\"movieItem\":\"Movies_movieItem__WBe6u\",\"container\":\"Movies_container__sNK5N\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const [searchValue, setSearchValue] = useState('');\n\n  const API_KEY = '85aded699850148534e98bbdd6991e7d';\n  const URL = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&include_adult=false&query=${query}`;\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query.trim() !== '') {\n      fetch(URL)\n        .then(r => r.json())\n        .then(data => setMovies(prevMovies => [...prevMovies, ...data.results]))\n        .catch(error => console.log(error));\n    }\n  }, [URL, query, setMovies]);\n\n  const findMovie = () => {\n    setPage(1);\n    setMovies([]);\n    setSearchParams({ query: searchValue });\n  };\n\n  const handleChangeInput = e => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleKeyDown = e => {\n    if (e.keyCode === 13) {\n      findMovie();\n    }\n  };\n\n  return (\n    <>\n      <div className={css.container}>\n        <input\n          placeholder=\"Search movies...\"\n          value={searchValue}\n          onChange={handleChangeInput}\n          onKeyDown={handleKeyDown}\n          className={css.searchInput}\n        />\n        <button onClick={findMovie} className={css.searchBtn}>\n          Search\n        </button>\n      </div>\n      <ul className={css.movieList}>\n        {movies.map(movie => (\n          <Link\n            to={`/movies/${movie.id}`}\n            state={{ from: location }}\n            key={`${movie.id}`}\n            className={css.movieItem}\n          >\n            <img\n              src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n              alt=\"movie poster\"\n              className={css.moviePoster}\n              width=\"250\"\n              height=\"350\"\n            />\n            <p className={css.movieTitle}>\n              {movie.title} {movie.name}\n            </p>\n          </Link>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","page","setPage","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","searchValue","setSearchValue","URL","location","useLocation","useEffect","trim","fetch","then","r","json","data","prevMovies","results","catch","error","console","log","findMovie","className","css","placeholder","value","onChange","e","target","onKeyDown","keyCode","onClick","map","movie","to","id","state","from","src","poster_path","alt","width","height","title","name"],"sourceRoot":""}